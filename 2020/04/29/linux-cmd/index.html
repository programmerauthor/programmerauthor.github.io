<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Linux常用命令"><meta name="keywords" content="cmd,linux"><meta name="author" content="普通程序员"><meta name="copyright" content="普通程序员"><title>Linux常用命令 | 普通程序员</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script><meta name="generator" content="Hexo 4.2.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">普通程序员</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">37</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">51</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">51</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">普通程序员</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">首页</a><a class="site-page" href="/archives">归档</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a></span><span class="pull-right"></span></div><div id="post-info"><div id="post-title">Linux常用命令</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-04-29</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Linux/">Linux</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/Linux/%E6%8A%80%E5%B7%A7/">技巧</a><span class="post-meta__separator">|</span><i class="fa fa-comment-o post-meta__icon" aria-hidden="true"></i><a href="/2020/04/29/linux-cmd/#disqus_thread"><span class="disqus-comment-count" data-disqus-identifier="2020/04/29/linux-cmd/"></span></a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>[TOC]</p>
<h3 id="nc"><a href="#nc" class="headerlink" title="nc"></a>nc</h3><blockquote>
<p>用于设置路由器，是网络工具中的瑞士军刀</p>
</blockquote>
<ul>
<li><p>开启一个监听端口</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -l 3003 # 开启一个对3003端口的监听。可以用于测试防火墙</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h3><blockquote>
<p>查看Linux中网络系统状态信息</p>
</blockquote>
<ul>
<li>用法</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-a或--all：显示所有连线中的Socket；</span><br><span class="line">-A&lt;网络类型&gt;或--&lt;网络类型&gt;：列出该网络类型连线中的相关地址；</span><br><span class="line">-c或--continuous：持续列出网络状态；</span><br><span class="line">-C或--cache：显示路由器配置的快取信息；</span><br><span class="line">-e或--extend：显示网络其他相关信息；</span><br><span class="line">-F或--fib：显示FIB；</span><br><span class="line">-g或--groups：显示多重广播功能群组组员名单；</span><br><span class="line">-h或--help：在线帮助；</span><br><span class="line">-i或--interfaces：显示网络界面信息表单；</span><br><span class="line">-l或--listening：显示监控中的服务器的Socket；</span><br><span class="line">-M或--masquerade：显示伪装的网络连线；</span><br><span class="line">-n或--numeric：直接使用ip地址，而不通过域名服务器；</span><br><span class="line">-N或--netlink或--symbolic：显示网络硬件外围设备的符号连接名称；</span><br><span class="line">-o或--timers：显示计时器；</span><br><span class="line">-p或--programs：显示正在使用Socket的程序识别码和程序名称；</span><br><span class="line">-r或--route：显示Routing Table；</span><br><span class="line">-s或--statistice：显示网络工作信息统计表；</span><br><span class="line">-t或--tcp：显示TCP传输协议的连线状况；</span><br><span class="line">-u或--udp：显示UDP传输协议的连线状况；</span><br><span class="line">-v或--verbose：显示指令执行过程；</span><br><span class="line">-V或--version：显示版本信息；</span><br><span class="line">-w或--raw：显示RAW传输协议的连线状况；</span><br><span class="line">-x或--unix：此参数的效果和指定"-A unix"参数相同；</span><br><span class="line">--ip或--inet：此参数的效果和指定"-A inet"参数相同</span><br></pre></td></tr></table></figure>

<ul>
<li><p>例子</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看 l-&gt; socket , n-&gt; 使用ip地址 , t -&gt; tcp 协议 , p -&gt; 正在使用 sockt 的程序识别码和程序名称 </span></span><br><span class="line">[root@VM_34_137_centos ~]# netstat -lntp </span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    </span><br><span class="line">tcp        0      0 127.0.0.1:42830         0.0.0.0:*               LISTEN      7100/chrome         </span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1176/sshd           </span><br><span class="line">tcp6       0      0 :::3001                 :::*                    LISTEN      26678/node /home/wo</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h3 id="killall"><a href="#killall" class="headerlink" title="killall"></a>killall</h3><blockquote>
<p>按名字杀死进程</p>
</blockquote>
<ul>
<li><p>用法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">- Terminate a process using the default SIGTERM (terminate) signal:</span><br><span class="line">  killall process_name</span><br><span class="line">  </span><br><span class="line">- List available signal names (to be used without the 'SIG' prefix):</span><br><span class="line">  killall --list</span><br><span class="line">  </span><br><span class="line">- Interactively ask for confirmation before termination:</span><br><span class="line">  killall -i process_name</span><br><span class="line">  </span><br><span class="line">- Terminate a process using the SIGINT (interrupt) signal, which is the same signal sent by pressing Ctrl + C:</span><br><span class="line">  killall -INT process_name</span><br><span class="line">  </span><br><span class="line">- Force kill a process:</span><br><span class="line">  killall -KILL process_name</span><br></pre></td></tr></table></figure>
</li>
<li><p>常用例子</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">killall -9 java   # 结束所有名字为 java 的进程</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h3 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h3><blockquote>
<p>ps命令用于报告当前系统的进程状态，可以搭配 kill 指令随时中断删除不必要的程序</p>
</blockquote>
<ul>
<li><p>命令帮助</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">-a：		显示所有终端机下执行的程序，除了阶段作业领导者之外。</span><br><span class="line">a：		显示现行终端机下的所有程序，包括其他用户的程序。</span><br><span class="line">-A：	   显示所有程序。</span><br><span class="line">-c：	    显示CLS和PRI栏位。</span><br><span class="line">c：		列出程序时，显示每个程序真正的指令名称，而不包含路径，选项或常驻服务的标示。</span><br><span class="line">-C		  &lt;指令名称&gt;：指定执行指令的名称，并列出该指令的程序的状况。</span><br><span class="line">-d：	  显示所有程序，但不包括阶段作业领导者的程序。</span><br><span class="line">-e：   此选项的效果和指定"A"选项相同。</span><br><span class="line">e：     列出程序时，显示每个程序所使用的环境变量。</span><br><span class="line">-f：    显示UID,PPIP,C与STIME栏位。</span><br><span class="line">f：      用ASCII字符显示树状结构，表达程序间的相互关系。</span><br><span class="line">-g        &lt;群组名称&gt;：此选项的效果和指定"-G"选项相同，当亦能使用阶段作业领导者的名称来指定。</span><br><span class="line">g：    显示现行终端机下的所有程序，包括群组领导者的程序。</span><br><span class="line">-G       &lt;群组识别码&gt;：列出属于该群组的程序的状况，也可使用群组名称来指定。</span><br><span class="line">h：    不显示标题列。</span><br><span class="line">-H：  显示树状结构，表示程序间的相互关系。</span><br><span class="line">-j 或j：采用工作控制的格式显示程序状况。</span><br><span class="line">-l或l：采用详细的格式来显示程序状况。</span><br><span class="line">L：      列出栏位的相关信息。</span><br><span class="line">-m或m：显示所有的执行绪。</span><br><span class="line">n：     以数字来表示USER和WCHAN栏位。</span><br><span class="line">-N：显示所有的程序，除了执行ps指令终端机下的程序之外。</span><br><span class="line">-p&lt;程序识别码&gt;：指定程序识别码，并列出该程序的状况。</span><br><span class="line">p&lt;程序识别码&gt;：此选项的效果和指定"-p"选项相同，只在列表格式方面稍有差异。</span><br><span class="line">r：只列出现行终端机正在执行中的程序。</span><br><span class="line">-s&lt;阶段作业&gt;：指定阶段作业的程序识别码，并列出隶属该阶段作业的程序的状况。</span><br><span class="line">s：采用程序信号的格式显示程序状况。</span><br><span class="line">S：列出程序时，包括已中断的子程序资料。</span><br><span class="line">-t&lt;终端机编号&gt;：指定终端机编号，并列出属于该终端机的程序的状况。</span><br><span class="line">t&lt;终端机编号&gt;：此选项的效果和指定"-t"选项相同，只在列表格式方面稍有差异。</span><br><span class="line">-T：显示现行终端机下的所有程序。</span><br><span class="line">-u&lt;用户识别码&gt;：此选项的效果和指定"-U"选项相同。</span><br><span class="line">u：以用户为主的格式来显示程序状况。</span><br><span class="line">-U&lt;用户识别码&gt;：列出属于该用户的程序的状况，也可使用用户名称来指定。</span><br><span class="line">U&lt;用户名称&gt;：列出属于该用户的程序的状况。</span><br><span class="line">v：采用虚拟内存的格式显示程序状况。</span><br><span class="line">-V或V：显示版本信息。</span><br><span class="line">-w或w：采用宽阔的格式来显示程序状况。　</span><br><span class="line">x：显示所有程序，不以终端机来区分。</span><br><span class="line">X：采用旧式的Linux i386登陆格式显示程序状况。</span><br><span class="line">-y：配合选项"-l"使用时，不显示F(flag)栏位，并以RSS栏位取代ADDR栏位　。</span><br><span class="line">-&lt;程序识别码&gt;：此选项的效果和指定"p"选项相同。</span><br><span class="line">--cols&lt;每列字符数&gt;：设置每列的最大字符数。</span><br><span class="line">--columns&lt;每列字符数&gt;：此选项的效果和指定"--cols"选项相同。</span><br><span class="line">--cumulative：此选项的效果和指定"S"选项相同。</span><br><span class="line">--deselect：此选项的效果和指定"-N"选项相同。</span><br><span class="line">--forest：此选项的效果和指定"f"选项相同。</span><br><span class="line">--headers：重复显示标题列。</span><br><span class="line">--help：在线帮助。</span><br><span class="line">--info：显示排错信息。</span><br><span class="line">--lines&lt;显示列数&gt;：设置显示画面的列数。</span><br><span class="line">--no-headers：此选项的效果和指定"h"选项相同，只在列表格式方面稍有差异。</span><br><span class="line">--group&lt;群组名称&gt;：此选项的效果和指定"-G"选项相同。</span><br><span class="line">--Group&lt;群组识别码&gt;：此选项的效果和指定"-G"选项相同。</span><br><span class="line">--pid&lt;程序识别码&gt;：此选项的效果和指定"-p"选项相同。</span><br><span class="line">--rows&lt;显示列数&gt;：此选项的效果和指定"--lines"选项相同。</span><br><span class="line">--sid&lt;阶段作业&gt;：此选项的效果和指定"-s"选项相同。</span><br><span class="line">--tty&lt;终端机编号&gt;：此选项的效果和指定"-t"选项相同。</span><br><span class="line">--user&lt;用户名称&gt;：此选项的效果和指定"-U"选项相同。</span><br><span class="line">--User&lt;用户识别码&gt;：此选项的效果和指定"-U"选项相同。</span><br><span class="line">--version：此选项的效果和指定"-V"选项相同。</span><br><span class="line">--widty&lt;每列字符数&gt;：此选项的效果和指定"-cols"选项相同。</span><br></pre></td></tr></table></figure>
</li>
<li><p>常用用法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ps -ef  # 显示所有进程，并显示UID,PPIP,C与STIME栏位</span><br><span class="line">			 #（参考上述 -e -f 详细介绍）</span><br><span class="line">ps aux # 显示所有正在运行的程序</span><br></pre></td></tr></table></figure>
</li>
<li><p>字段解释</p>
<ul>
<li><p>PID (Process ID)</p>
<blockquote>
<p>PID 是程序被操作系统加载到内存成为进程后动态分配的资源。</p>
<p>每次程序执行的时候，操作系统都会重新加载，PID在每次加载的时候都是不同的。</p>
</blockquote>
</li>
<li><p>PPID （Parent Process ID）</p>
<blockquote>
<p>PPID 是程序的父进程号</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="ps-配合-kill-批量杀进程"><a href="#ps-配合-kill-批量杀进程" class="headerlink" title="ps 配合 kill 批量杀进程"></a>ps 配合 kill 批量杀进程</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep java | grep -v grep | awk '&#123;print $2&#125;' | xargs kill -9</span><br></pre></td></tr></table></figure>

<ul>
<li><p>命令拆解</p>
<ul>
<li><p>ps -ef </p>
<blockquote>
<p>显示所有进程，并显示UID,PPIP,C与STIME栏位</p>
</blockquote>
</li>
<li><p>grep java</p>
<blockquote>
<p>过滤出 “java” 关键字的进程（是以行为单位）</p>
</blockquote>
</li>
<li><p>grep -v grep</p>
<blockquote>
<p>去除 grep 自身这条过滤命令 ， -v 表示反向选择</p>
</blockquote>
</li>
<li><p>awk ‘{print $2}’ </p>
<blockquote>
<p>表示筛选出关注的进程号，$2 表示每行第二个变量。</p>
<p>在这个例子的场景下，$2 代表的每行第二个变量就是进程号。</p>
<p>如果使用的 ps 工具不一样，或者 ps 带的参数不一样，就需要注意修改，那样需要关注的可能就不是 $2 ，可能是 $1 </p>
</blockquote>
</li>
<li><p>xargs kill -9</p>
<blockquote>
<p>xargs 命令表示前面命令的输出结果（也就是一系列的进程号）作为 kill -9 命令的参数，-9 表示强制终止，不是必须的。</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">普通程序员</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://programmerauthor.github.io/2020/04/29/linux-cmd/">https://programmerauthor.github.io/2020/04/29/linux-cmd/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://programmerauthor.github.io">普通程序员</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/cmd/">cmd</a><a class="post-meta__tags" href="/tags/linux/">linux</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/04/30/linux-ubuntu/"><i class="fa fa-chevron-left">  </i><span>Ubuntu软件管理</span></a></div><div class="next-post pull-right"><a href="/2020/04/26/choice-chip/"><span>Flutter组件之ChoiceChip教程</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="disqus_thread"></div><script>var unused = null;
var disqus_config = function () {
  this.page.url = 'https://programmerauthor.github.io/2020/04/29/linux-cmd/';
  this.page.identifier = '2020/04/29/linux-cmd/';
  this.page.title = 'Linux常用命令';
}
var d = document, s = d.createElement('script');
s.src = "https://" + 'programmerauthor' +".disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script><script id="dsq-count-scr" src="https://programmerauthor.disqus.com/count.js" async></script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2022 By 普通程序员</div><div class="framework-info"><span>驱动 - <span>Hexo</span></span><span class="footer-separator">|</span><span>主题 - <span>Melody</span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>